#include "node.h"
#include "v8.h"

using v8;
using node;

{{#functions}}
static Handle<Value> {{module}}::{{name}}(const Arguments& args) {
  HandleScope scope;
  {{#args}}{{type}} arg{{count}} = args[{{count}}]->{{v8type}};{{/args}}
  {{result}} ret = {{name}}({{#args}}arg{{count}}{{^last}},{{/last}}{{/args}});
  return scope.Close({{v8result}}(ret));
}
{{/functions}}

void init(Handle<Object> target) {
  HandleScope scope;

{{#functions}}
  NODE_SET_METHOD(target, "{{name}}", {{module}}::{{name}});
{{/functions}}
}

NODE_MODULE({{module}}, init)
